import{r as ee,c as g,a as $,o as l,b as u,d as o,e as f,w as x,F as B,f as L,g as te,S as U,M as A,t as v,h as I,n as P,i as oe,j as se,k as V,l as ae,m as k,p as O,q as M,s as H,u as F,v as b,x as y,y as ie,z,A as ne}from"./vendor.4f835de4.js";const ce=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))t(r);new MutationObserver(r=>{for(const d of r)if(d.type==="childList")for(const i of d.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&t(i)}).observe(document,{childList:!0,subtree:!0});function s(r){const d={};return r.integrity&&(d.integrity=r.integrity),r.referrerpolicy&&(d.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?d.credentials="include":r.crossorigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function t(r){if(r.ep)return;r.ep=!0;const d=s(r);fetch(r.href,d)}};ce();const n=ee({user:{},account:{},recipes:[],favorites:[],myFavorites:[],activeRecipe:{},activeIngredients:[],activeSteps:[],myRecipes:[]});var w=(a,e)=>{for(const[s,t]of e)a[s]=t;return a};const re={name:"App",setup(){return{appState:g(()=>n)}}},de={class:"bg-white"},le={class:"bg-white"},ue=L("New Recipe"),_e=o("div",{class:"fab"},[o("button",{class:"btn btn-success rounded-pill f-22 elevation-4",type:"button","data-bs-toggle":"modal","data-bs-target":"#recipe"},[o("i",{class:"mdi mdi-plus"})])],-1);function pe(a,e,s,t,r,d){const i=$("Navbar"),m=$("router-view"),R=$("RecipeForm"),X=$("Modal");return l(),u(B,null,[o("header",de,[f(i)]),o("main",le,[f(m)]),f(X,{id:"recipe"},{header:x(()=>[ue]),body:x(()=>[f(R)]),_:1}),_e],64)}var me=w(re,[["render",pe]]);const Y=window.location.origin.includes("localhost"),K=Y?"https://localhost:5001":"",ve="dev-k0ett2hk.us.auth0.com",ge="duZCEjAYwATyvUJravqqcShyEj95dzss",he="https://DiegoDev.com";function T(a,e){if(Y)console[a](`[${a}] :: ${new Date().toLocaleTimeString()} :: `,...e);else{switch(a){case"log":case"assert":return}console[a](`[${a}] :: ${new Date().toLocaleTimeString()} :: `,...e)}}const c={log(){T("log",arguments)},error(){T("error",arguments)},warn(){T("warn",arguments)},assert(){T("assert",arguments)},trace(){T("trace",arguments)}},p=te.create({baseURL:K,timeout:8e3});class fe{async getAll(e={}){const s=await p.get("api/recipes/",{params:e});c.log(s.data,"[Recipe Res]"),n.recipes=s.data}async getById(e){const s=await p.get("api/recipes/"+e);c.log(s.data),n.activeRecipe=s.data,c.log(n.activeRecipe,"[Active Recipe]")}async searchRecipe(e=""){const s=await p.get(`api/recipes?query=${e}`);c.log(s.data,"[res search]"),n.recipes=s.data}async createRecipe(e){const s=await p.post("api/recipes",e);c.log(s.data),n.recipes.unshift(s.data)}async deleteRecipe(e){const s=await p.delete("api/recipes/"+e);c.log(s.data),n.recipes=n.recipes.filter(t=>t.id!=e)}}const E=new fe;class _{static async confirm(e="Are you sure?",s="You won't be able to revert this!",t="warning",r="Yes, delete it!"){try{return!!(await U.fire({title:e,text:s,icon:t,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:r})).isConfirmed}catch{return!1}}static toast(e="Warning!",s="warning",t="top-end",r=3e3,d=!0){U.fire({title:e,icon:s,position:t,timer:r,timerProgressBar:d,toast:!0,showConfirmButton:!1})}static error(e){var s;if(e.isAxiosError){const{response:t}=e;this.toast(((s=t.data.error)==null?void 0:s.message)||t.data.message,"error")}else this.toast(e.message||e,"error")}static success(e="Success!"){this.toast(e,"success")}}class be{async getFavorites(){const e=await p.get("account/favorites");c.log(e.data),n.myFavorites=e.data}async favoriteRecipe(e,s){const t=await p.post("api/favorites",e,s);c.log(t.data),n.favorites.push(t.data),n.myFavorites.push(t.data),c.log(n.myFavorites,"favorites appState")}async deleteFavorite(e){const s=await p.delete("api/favorites/"+e);c.log(s.data),n.myFavorites=n.myFavorites.filter(t=>t.favoriteId!=e)}}const C=new be;const ye={props:{favorites:{type:Object,required:!0}},setup(a){return{async setActive(){try{await E.getById(a.favorites.id),A.getOrCreateInstance(document.getElementById("recipe-modal")).show()}catch(e){_.toast(e.message),c.log(e)}},async deleteFavorite(e){try{await _.confirm()&&await C.deleteFavorite(e)}catch(s){c.log(s),_.toast(s.message)}}}}},we={class:"col-md-4 mt-5"},xe={class:"text-white p-2 d-flex justify-content-between"},Se={class:"blur rounded-pill px-3 border border-white border-1"},Re={class:""},$e={class:"details-blur bottom mx-3 rounded"},Ie={class:"fs-5 text-white"},ke={class:"text-white"};function Ee(a,e,s,t,r,d){return l(),u("div",we,[o("div",{onClick:e[1]||(e[1]=(...i)=>t.setActive&&t.setActive(...i)),class:"elevation-4 cover-img me-3 ms-3 rounded selectable",style:P(`background-image: url(${s.favorites.picture})`)},[o("div",xe,[o("div",null,[o("p",Se,v(s.favorites.category),1)]),o("div",Re,[o("i",{onClick:e[0]||(e[0]=I(i=>t.deleteFavorite(s.favorites.favoriteId),["stop"])),class:"mdi mdi-trash-can-outline text-danger fs-3 heart-blur rounded-bottom p-0"})])]),o("div",$e,[o("div",Ie,[o("b",null,v(s.favorites.title),1)]),o("div",ke,v(s.favorites.subtitle),1)])],4)])}var Ae=w(ye,[["render",Ee],["__scopeId","data-v-7b5bf114"]]),Te=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ae});const Ce="modulepreload",W={},De="/",j=function(e,s){return!s||s.length===0?e():Promise.all(s.map(t=>{if(t=`${De}${t}`,t in W)return;W[t]=!0;const r=t.endsWith(".css"),d=r?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${t}"]${d}`))return;const i=document.createElement("link");if(i.rel=r?"stylesheet":Ce,r||(i.as="script",i.crossOrigin=""),i.href=t,document.head.appendChild(i),r)return new Promise((m,R)=>{i.addEventListener("load",m),i.addEventListener("error",R)})})).then(()=>e())};function Be(a){switch(a){case"./pages/AccountPage.vue":return j(()=>import("./AccountPage.73ed5b66.js"),["assets/AccountPage.73ed5b66.js","assets/AccountPage.1d38451d.css","assets/vendor.4f835de4.js"]);case"./pages/FavoritesPage.vue":return j(()=>import("./FavoritesPage.86a9cc4c.js"),["assets/FavoritesPage.86a9cc4c.js","assets/vendor.4f835de4.js"]);case"./pages/HomePage.vue":return j(()=>import("./HomePage.10df1135.js"),["assets/HomePage.10df1135.js","assets/vendor.4f835de4.js"]);case"./pages/MyRecipesPage.vue":return j(()=>import("./MyRecipesPage.dc5ab634.js"),["assets/MyRecipesPage.dc5ab634.js","assets/vendor.4f835de4.js"]);default:return new Promise(function(e,s){(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(s.bind(null,new Error("Unknown variable dynamic import: "+a)))})}}function D(a){return()=>Be(`./pages/${a}.vue`)}const Pe=[{path:"/",name:"Home",component:D("HomePage")},{path:"/myRecipes",name:"myRecipes",component:D("myRecipesPage"),beforeEnter:V},{path:"/favorites",name:"favorites",component:D("favoritesPage"),beforeEnter:V},{path:"/about",name:"About",component:D("AboutPage")},{path:"/account",name:"Account",component:D("AccountPage"),beforeEnter:V}],G=oe({linkActiveClass:"router-link-active",linkExactActiveClass:"router-link-exact-active",history:se(),routes:Pe});class Oe{async getAccount(){try{const e=await p.get("/account");n.account=e.data}catch(e){c.error("HAVE YOU STARTED YOUR SERVER YET???",e)}}async getMyRecipes(){const e=await p.get("account/recipes");c.log(e.data),n.myRecipes=e.data}}const Q=new Oe,Me={connection:"connection",connected:"connected",disconnect:"disconnect",authenticate:"authenticate",authenticated:"authenticated",userConnected:"userConnected",userDisconnected:"userDisconnected",error:"error"};class Fe{constructor(e=!1,s=K){}on(e,s){var t;return(t=this.socket)==null||t.on(e,s.bind(this)),this}onConnected(e){c.log("[SOCKET_CONNECTION]",e),this.connected=!0,this.playback()}onAuthenticated(e){c.log("[SOCKET_AUTHENTICATED]",e),this.authenticated=!0,this.playback()}authenticate(e){var s;(s=this.socket)==null||s.emit(Me.authenticate,e)}onError(e){c.error("[SOCKET_ERROR]",e)}enqueue(e,s){c.log("[ENQUEING_ACTION]",{action:e,payload:s}),this.queue.push({action:e,payload:s})}playback(){c.log("[SOCKET_PLAYBACK]");const e=[...this.queue];this.queue=[],e.forEach(s=>{this.emit(s.action,s.payload)})}emit(e,s=void 0){if(this.requiresAuth&&!this.authenticated)return this.enqueue(e,s);if(!this.connected)return this.enqueue(e,s);this.socket.emit(e,s)}}class je extends Fe{constructor(){super();this.on("error",this.onError)}onError(e){_.toast(e.message,"error")}}const J=new je,h=ae({domain:ve,clientId:ge,audience:he,useRefreshTokens:!0,onRedirectCallback:a=>{G.push(a&&a.targetUrl?a.targetUrl:window.location.pathname)}});h.on(h.AUTH_EVENTS.AUTHENTICATED,async function(){p.defaults.headers.authorization=h.bearer,p.interceptors.request.use(qe),n.user=h.user,await Q.getAccount(),J.authenticate(h.bearer),await Q.getMyRecipes(),await C.getFavorites(),c.log(n.myRecipes,"my recipes"),c.log(n.account)});async function qe(a){if(!h.isAuthenticated)return a;const e=h.identity.exp*1e3,s=e<Date.now(),t=e<Date.now()+1e3*60*60*12;return s?await h.loginWithPopup():t&&(await h.getTokenSilently(),p.defaults.headers.authorization=h.bearer,J.authenticate(h.bearer)),a}const Ne={setup(){return{user:g(()=>n.user),account:g(()=>n.account),async login(){h.loginWithPopup()},async logout(){h.logout({returnTo:window.location.origin})}}}},Le=a=>(O("data-v-005a4eef"),a=a(),M(),a),Ve={class:"navbar-text"},Ue={key:1,class:"dropdown my-2 my-lg-0"},He={class:"dropdown-toggle selectable","data-bs-toggle":"dropdown","aria-expanded":"false",id:"authDropdown"},ze={key:0},Ye=["title","src"],Ke={class:"dropdown-menu p-0 list-group w-100","aria-labelledby":"authDropdown"},We=Le(()=>o("i",{class:"mdi mdi-logout"},null,-1)),Ge=L(" logout "),Qe=[We,Ge];function Je(a,e,s,t,r,d){return l(),u("span",Ve,[t.user.isAuthenticated?(l(),u("div",Ue,[o("div",He,[t.account.picture?(l(),u("div",ze,[o("img",{title:t.account.name,src:t.account.picture,alt:"account photo",height:"40",class:"account-img"},null,8,Ye)])):k("",!0)]),o("div",Ke,[o("div",{class:"list-group-item list-group-item-action hoverable text-danger",onClick:e[1]||(e[1]=(...i)=>t.logout&&t.logout(...i))},Qe)])])):(l(),u("button",{key:0,class:"btn selectable text-success lighten-30 text-uppercase my-2 my-lg-0",onClick:e[0]||(e[0]=(...i)=>t.login&&t.login(...i))}," Login "))])}var Ze=w(Ne,[["render",Je],["__scopeId","data-v-005a4eef"]]),Xe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ze});const et={setup(){return{}}},tt=a=>(O("data-v-2f3cf386"),a=a(),M(),a),ot={class:"modal fade half-black",tabindex:"-1",role:"dialog","aria-labelledby":"modelTitleId","aria-hidden":"true"},st={class:"modal-dialog",role:"document"},at={class:"modal-content half-black border-0"},it={class:"modal-header bg text-white"},nt={class:"modal-title"},ct=tt(()=>o("button",{type:"button",class:"btn-close btn btn-light bg-light","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),rt={class:"modal-body"};function dt(a,e,s,t,r,d){return l(),u("div",ot,[o("div",st,[o("div",at,[o("div",it,[o("h5",nt,[H(a.$slots,"header",{},void 0,!0)]),ct]),o("div",rt,[H(a.$slots,"body",{},void 0,!0)])])])])}var lt=w(et,[["render",dt],["__scopeId","data-v-2f3cf386"]]),ut=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:lt});const _t={props:{recipe:{type:Object,required:!0}},setup(a){return{async favoriteRecipe(){try{await C.favoriteRecipe({recipeId:a.recipe.id,accountId:n.account.id})}catch(e){_.toast(e.message),c.log(e)}},async setActive(){try{await E.getById(a.recipe.id),A.getOrCreateInstance(document.getElementById("recipe-modal")).show()}catch(e){_.toast(e.message),c.log(e)}},account:g(()=>n.account),favorite:g(()=>n.favorites),recipes:g(()=>n.recipes)}}},pt={class:"col-md-4 mt-5"},mt={class:"text-white p-2 d-flex justify-content-between"},vt={class:"blur rounded-pill px-3 border border-white border-1"},gt={class:"details-blur bottom mx-3 rounded"},ht={class:"fs-5 text-white"},ft={class:"text-white"};function bt(a,e,s,t,r,d){const i=$("RecipeDetailedModal");return l(),u(B,null,[o("div",pt,[o("div",{onClick:e[0]||(e[0]=(...m)=>t.setActive&&t.setActive(...m)),class:"elevation-4 cover-img me-3 ms-3 rounded selectable",style:P(`background-image: url(${s.recipe.picture})`)},[o("div",mt,[o("div",null,[o("p",vt,v(s.recipe.category),1)])]),o("div",gt,[o("div",ht,[o("b",null,v(s.recipe.title),1)]),o("div",ft,v(s.recipe.subtitle),1)])],4)]),f(i)],64)}var yt=w(_t,[["render",bt],["__scopeId","data-v-654b3f41"]]),wt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:yt});const xt={setup(){const a=F("");return{search:a,async searchRecipe(){try{c.log("searching",a.value),await E.searchRecipe(a.value)}catch(e){c.log(e),_.toast(e.message)}}}}},St={class:"bg-white"},Rt={class:"m-3 elevation-5"},$t={class:"bg rounded",style:{"background-image":"url(https://images.unsplash.com/photo-1444228425018-ff8535a55c93?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2942&q=80)"}},It={class:"col-md-12 text-end p-2 d-flex justify-content-end"},kt={class:"pt- me-2"},Et={class:"input-group"},At=o("button",{type:"submit",class:"btn bg-white"},[o("i",{class:"mdi mdi-magnify"})],-1),Tt=o("div",{class:"col-md-12 text-center text-white"},[o("h1",null,"All-Spice"),o("h4",null,"Cherish your family and their cooking")],-1),Ct={class:"d-none d-md-block"},Dt={class:"col-md-12 d-flex justify-content-center"},Bt={class:"pages text-center elevation-5 rounded p-3 d-flex"},Pt={class:"px-5"},Ot=o("div",{class:"text-success"},"Home",-1),Mt={class:"px-5"},Ft=o("div",{class:"text-success"},"My Recipes",-1),jt={class:"px-5"},qt=o("div",{class:"text-success"},"Favorites",-1),Nt={class:"d-sm-block d-md-none"},Lt={class:"col-md-12 d-flex justify-content-center"},Vt={class:"pages text-center elevation-5 rounded p-3 d-flex"},Ut={class:""},Ht=o("div",{class:"text-success"},"Home",-1),zt={class:"mx-5"},Yt=o("div",{class:"text-success"},"My Recipes",-1),Kt={class:""},Wt=o("div",{class:"text-success"},"Favorites",-1),Gt=o("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation"},[o("span",{class:"navbar-toggler-icon"})],-1),Qt=o("ul",{class:"navbar-nav me-auto"},null,-1);function Jt(a,e,s,t,r,d){const i=$("Login"),m=$("router-link");return l(),u("div",St,[o("div",Rt,[o("div",$t,[o("div",It,[o("div",kt,[o("form",{onSubmit:e[1]||(e[1]=I((...R)=>t.searchRecipe&&t.searchRecipe(...R),["prevent"])),id:"search"},[o("div",Et,[b(o("input",{class:"form-control bg-white",type:"text",placeholder:"Search..","aria-label":"search","onUpdate:modelValue":e[0]||(e[0]=R=>t.search=R)},null,512),[[y,t.search]]),At])],32)]),o("div",null,[f(i)])]),Tt,o("div",Ct,[o("div",Dt,[o("div",Bt,[o("div",Pt,[f(m,{class:"",to:{name:"Home"}},{default:x(()=>[Ot]),_:1})]),o("div",Mt,[f(m,{to:{name:"myRecipes"}},{default:x(()=>[Ft]),_:1})]),o("div",jt,[f(m,{to:{name:"favorites"}},{default:x(()=>[qt]),_:1})])])])]),o("div",Nt,[o("div",Lt,[o("div",Vt,[o("div",Ut,[f(m,{class:"",to:{name:"Home"}},{default:x(()=>[Ht]),_:1})]),o("div",zt,[f(m,{to:{name:"myRecipes"}},{default:x(()=>[Yt]),_:1})]),o("div",Kt,[f(m,{to:{name:"favorites"}},{default:x(()=>[Wt]),_:1})])])])]),Gt,Qt])])])}var Zt=w(xt,[["render",Jt]]),Xt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Zt});class eo{async getRecipeIngredients(e){const s=await p.get(`api/recipes/${e}/ingredients`);c.log(s.data,"[ingredients]"),n.activeIngredients=s.data,c.log(n.activeIngredients,"ingredients in AppState")}async createIngredient(e){const s=await p.post("api/ingredients",e);c.log(s.data),n.activeIngredients.push(s.data)}async editIngredient(e,s,t){const r=await p.put("api/ingredients/"+e,{quantity:s,name:t});c.log(r.data)}async deleteIngredient(e){const s=await p.delete("api/ingredients/"+e);c.log(s.data),n.activeIngredients=n.activeIngredients.filter(t=>t.id!=e)}}const q=new eo;class to{async getRecipeSteps(e){const s=await p.get(`api/recipes/${e}/steps`);c.log(s.data),n.activeSteps=s.data}async createStep(e){const s=await p.post("api/steps",e);c.log(s.data),n.activeSteps.push(s.data)}async deleteStep(e){const s=await p.delete("api/steps/"+e);c.log(s.data),n.activeSteps=n.activeSteps.filter(t=>t.id!=e)}async editStep(e,s,t){const r=await p.put("api/steps/"+e,{stepPosition:s,body:t});c.log(r.data)}}const N=new to;const oo={setup(){const a=F({}),e=F({});return ie(async()=>{try{n.activeRecipe.id&&(await N.getRecipeSteps(n.activeRecipe.id),await q.getRecipeIngredients(n.activeRecipe.id))}catch(s){c.log(s),_.toast(s.message)}}),{stepData:a,ingredientData:e,async createStep(){try{a.value.recipeId=n.activeRecipe.id,await N.createStep(a.value),document.getElementById("step").reset()}catch(s){c.log(s),_.toast(s.message)}},async createIngredient(){try{e.value.RecipeId=n.activeRecipe.id,await q.createIngredient(e.value),document.getElementById("ingredient").reset()}catch(s){c.log(s),_.toast(s.message)}},async deleteStep(s){try{await _.confirm()&&await N.deleteStep(s)}catch(t){c.log(t),_.toast(t.message)}},async deleteIngredient(s){try{await _.confirm()&&await q.deleteIngredient(s)}catch(t){c.log(t),_.toast(t.message)}},async deleteRecipe(s){try{await _.confirm()&&(await E.deleteRecipe(s),A.getOrCreateInstance(document.getElementById("recipe-modal")).hide())}catch(t){c.log(t),_.toast(t.message)}},async editStep(s){try{const t=document.getElementById("stepPosition"+s).innerText,r=document.getElementById("stepBody"+s).innerText;await N.editStep(s,t,r)}catch(t){c.log(t),_.toast(t.message)}},async editIngredient(s){try{const t=document.getElementById("ingredientQuantity"+s).innerText,r=document.getElementById("ingredientName"+s).innerText;await q.editIngredient(s,t,r)}catch(t){c.log(t),_.toast(t.message)}},recipe:g(()=>n.activeRecipe),ingredients:g(()=>n.activeIngredients),step:g(()=>n.activeSteps),account:g(()=>n.account)}}},S=a=>(O("data-v-da6486bc"),a=a(),M(),a),so={class:"modal fade",id:"recipe-modal","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},ao={class:"modal-dialog modal-xl rounded"},io={class:"modal-content"},no={class:"modal-body p-0"},co={class:"row"},ro=S(()=>o("i",{class:"mdi mdi-trash-can"},null,-1)),lo=[ro],uo={class:"col-md-7"},_o=S(()=>o("div",{class:"text-end"},[o("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),po={class:"row"},mo={class:"col-md-12"},vo={class:"ps-3"},go={class:"pb-3 ps-3"},ho=S(()=>o("div",{class:"p-2 mx-4 bg-success text-center rounded-top"}," Recipe Steps ",-1)),fo={class:"recipe-card mx-4 rounded-bottom"},bo=["id","onBlur"],yo=L(" . "),wo={class:"d-flex ms-2"},xo=["id","onBlur"],So={key:0},Ro=["onClick"],$o=S(()=>o("i",{class:"mdi mdi-trash-can-outline"},null,-1)),Io=[$o],ko={key:0,class:"col-md-12 d-flex input-group px-4"},Eo=S(()=>o("button",{type:"submit",class:"btn btn-outline-success"}," + ",-1)),Ao={class:"col-md-12 pt-4"},To=S(()=>o("div",{class:"p-2 mx-4 bg-success text-center rounded-top"}," Ingredients ",-1)),Co={class:"recipe-card mx-4 rounded-bottom"},Do=["id","onBlur"],Bo=["id","onBlur"],Po={key:0},Oo=["onClick"],Mo=S(()=>o("i",{class:"mdi mdi-trash-can-outline"},null,-1)),Fo=[Mo],jo={key:0,class:"col-md-12 d-flex input-group px-4"},qo=S(()=>o("button",{class:"btn btn-outline-success"},"+",-1));function No(a,e,s,t,r,d){return l(),u("div",so,[o("div",ao,[o("div",io,[o("div",no,[o("div",co,[o("div",{class:"col-md-5 cover-img img-fluid",style:P(`background-image: url(${t.recipe.picture})`)},[t.recipe.creatorId==t.account.id?(l(),u("button",{key:0,onClick:e[0]||(e[0]=i=>t.deleteRecipe(t.recipe.id)),class:"btn btn-danger fab"},lo)):k("",!0)],4),o("div",uo,[_o,o("div",po,[o("div",mo,[o("div",vo,[o("h2",null,v(t.recipe.title),1)]),o("div",go,[o("h5",null,v(t.recipe.subtitle),1)]),ho,o("div",fo,[(l(!0),u(B,null,z(t.step,i=>(l(),u("div",{key:i.id,class:"p-1 d-flex"},[o("div",{contenteditable:"true",id:`stepPosition${i.id}`,onBlur:m=>t.editStep(i.id)},v(i.stepPosition),41,bo),yo,o("div",wo,[o("div",{contenteditable:"true",id:`stepBody${i.id}`,onBlur:m=>t.editStep(i.id)},v(i.body),41,xo),t.recipe.creatorId==t.account.id?(l(),u("div",So,[o("button",{onClick:m=>t.deleteStep(i.id),class:"btn"},Io,8,Ro)])):k("",!0)])]))),128))]),o("form",{onSubmit:e[3]||(e[3]=I((...i)=>t.createStep&&t.createStep(...i),["prevent"])),id:"step",value:"reset"},[t.recipe.creatorId==t.account.id?(l(),u("div",ko,[o("div",null,[b(o("input",{class:"form-control position-input",type:"text",placeholder:"step #","onUpdate:modelValue":e[1]||(e[1]=i=>t.stepData.stepPosition=i)},null,512),[[y,t.stepData.stepPosition]])]),b(o("input",{class:"form-control",type:"text",placeholder:"Steps...","onUpdate:modelValue":e[2]||(e[2]=i=>t.stepData.body=i)},null,512),[[y,t.stepData.body]]),Eo])):k("",!0)],32)]),o("div",Ao,[To,o("div",Co,[(l(!0),u(B,null,z(t.ingredients,i=>(l(),u("div",{key:i.id,class:"p-1 d-flex"},[o("div",null,[o("span",{class:"me-2",contenteditable:"true",id:`ingredientQuantity${i.id}`,onBlur:m=>t.editIngredient(i.id)},v(i.quantity),41,Do),o("span",{class:"me-2",contenteditable:"true",id:`ingredientName${i.id}`,onBlur:m=>t.editIngredient(i.id)},v(i.name),41,Bo)]),t.recipe.creatorId==t.account.id?(l(),u("div",Po,[o("button",{onClick:m=>t.deleteIngredient(i.id),class:"btn"},Fo,8,Oo)])):k("",!0)]))),128))]),o("div",null,[o("form",{onSubmit:e[6]||(e[6]=I((...i)=>t.createIngredient&&t.createIngredient(...i),["prevent"])),id:"ingredient",value:"reset"},[t.recipe.creatorId==t.account.id?(l(),u("div",jo,[o("div",null,[b(o("input",{class:"form-control position-input",type:"text",placeholder:"quantity...","onUpdate:modelValue":e[4]||(e[4]=i=>t.ingredientData.quantity=i)},null,512),[[y,t.ingredientData.quantity]])]),b(o("input",{class:"form-control",type:"text",placeholder:"title...","onUpdate:modelValue":e[5]||(e[5]=i=>t.ingredientData.name=i)},null,512),[[y,t.ingredientData.name]]),qo])):k("",!0)],32)])])])])])])])])])}var Lo=w(oo,[["render",No],["__scopeId","data-v-da6486bc"]]),Vo=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Lo});const Uo={setup(){const a=F({});return{recipeData:a,async createRecipe(){try{await E.createRecipe(a.value),A.getOrCreateInstance(document.getElementById("recipe")).hide()}catch(e){_.toast(e.message),c.log(e)}}}}},Ho={class:"row"},zo={class:"col-6"},Yo=o("label",{for:""},"Title",-1),Ko={class:"col-6"},Wo=o("label",{for:""},"Category",-1),Go={class:"col-12 pt-3"},Qo=o("label",{for:""},"Picture",-1),Jo={class:"col-12 pt-3"},Zo=o("label",{for:""},"Sub Title",-1),Xo=o("p",{class:"text-muted"},"A brief description of the recipe",-1),es=o("div",{class:"col-12 text-end"},[o("button",{type:"button",class:"btn btn-white","data-bs-dismiss":"modal"}," Cancel "),o("button",{class:"btn btn-success",type:"submit"},"submit")],-1);function ts(a,e,s,t,r,d){return l(),u("form",{onSubmit:e[4]||(e[4]=I((...i)=>t.createRecipe&&t.createRecipe(...i),["prevent"])),id:"recipe"},[o("div",Ho,[o("div",zo,[Yo,b(o("input",{type:"text",class:"form-control",placeholder:"Title...","onUpdate:modelValue":e[0]||(e[0]=i=>t.recipeData.title=i)},null,512),[[y,t.recipeData.title]])]),o("div",Ko,[Wo,b(o("input",{type:"text",class:"form-control",placeholder:"Category...","onUpdate:modelValue":e[1]||(e[1]=i=>t.recipeData.category=i)},null,512),[[y,t.recipeData.category]])]),o("div",Go,[Qo,b(o("input",{type:"text",class:"form-control",placeholder:"Picture Url...","onUpdate:modelValue":e[2]||(e[2]=i=>t.recipeData.picture=i)},null,512),[[y,t.recipeData.picture]])]),o("div",Jo,[Zo,b(o("textarea",{maxlength:"50",placeholder:"Details",class:"form-control",name:"",id:"",cols:"53",rows:"1","onUpdate:modelValue":e[3]||(e[3]=i=>t.recipeData.subTitle=i)},null,512),[[y,t.recipeData.subTitle]]),Xo]),es])],32)}var os=w(Uo,[["render",ts]]),ss=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:os});const as={props:{recipe:{type:Object,required:!0}},setup(a){return{async favoriteRecipe(){try{await C.favoriteRecipe({recipeId:a.recipe.id,accountId:n.account.id}),_.toast("Favorite")}catch(e){_.toast(e.message),c.log(e)}},async setActive(){try{await E.getById(a.recipe.id),A.getOrCreateInstance(document.getElementById("recipe-modal")).show()}catch(e){_.toast(e.message),c.log(e)}},async deleteFavorite(e){try{await C.deleteFavorite(e)}catch(s){c.log(s),_.toast(s.message)}},account:g(()=>n.account),favorite:g(()=>n.myFavorites),recipes:g(()=>n.recipes),isFavorite:g(()=>!!n.myFavorites.find(e=>e.id==a.recipe.id))}}},is=a=>(O("data-v-01c49208"),a=a(),M(),a),ns={class:"col-md-4 mt-5"},cs={class:"text-white p-2 d-flex justify-content-between"},rs={class:"blur rounded-pill px-3 border border-white border-1"},ds={key:0},ls={key:0,class:""},us=is(()=>o("i",{class:"mdi mdi-heart-outline text-white fs-3 heart-blur rounded-bottom p-0"},null,-1)),_s=[us],ps={class:"details-blur bottom mx-3 rounded"},ms={class:"fs-5 text-white"},vs={class:"text-white"};function gs(a,e,s,t,r,d){return l(),u("div",ns,[o("div",{onClick:e[2]||(e[2]=(...i)=>t.setActive&&t.setActive(...i)),class:"elevation-4 cover-img me-3 ms-3 rounded selectable",style:P(`background-image: url(${s.recipe.picture})`)},[o("div",cs,[o("div",null,[o("p",rs,v(s.recipe.category),1)]),s.recipe.creatorId!=t.account.id?(l(),u("div",ds,[t.isFavorite?(l(),u("div",ls,[o("i",{onClick:e[0]||(e[0]=I(i=>t.deleteFavorite(t.favorite.id),["stop"])),class:"mdi mdi-cards-heart-outline text-danger fs-3 heart-blur rounded-bottom p-0"})])):(l(),u("div",{key:1,onClick:e[1]||(e[1]=I((...i)=>t.favoriteRecipe&&t.favoriteRecipe(...i),["stop"])),class:""},_s))])):k("",!0)]),o("div",ps,[o("div",ms,[o("b",null,v(s.recipe.title),1)]),o("div",vs,v(s.recipe.subtitle),1)])],4)])}var hs=w(as,[["render",gs],["__scopeId","data-v-01c49208"]]),fs=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:hs});function bs(a){Object.entries({"./components/Favorites.vue":Te,"./components/Login.vue":Xe,"./components/Modal.vue":ut,"./components/MyRecipes.vue":wt,"./components/Navbar.vue":Xt,"./components/RecipeDetailedModal.vue":Vo,"./components/RecipeForm.vue":ss,"./components/Recipes.vue":fs}).forEach(([s,t])=>{const r=t.name||s.substr(s.lastIndexOf("/")+1).replace(/\.\w+$/,"");a.component(r,t.default)})}const Z=ne(me);bs(Z);Z.use(G).mount("#app");export{n as A,_ as P,w as _,C as f,c as l,E as r};
